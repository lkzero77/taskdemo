(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},n=[];function o(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"e43812f8"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(t){var e=[],s=i[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,a){s=i[t]=[e,a]}));e.push(s[2]=a);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=o(t);var l=new Error;n=function(e){c.onerror=c.onload=null,clearTimeout(u);var s=i[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,s[1](l)}i[t]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"3a7d":function(t,e,s){"use strict";var a=s("e56c"),i=s.n(a);i.a},"42b0":function(t,e,s){"use strict";var a=s("feca"),i=s.n(a);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between",staticStyle:{"margin-bottom":"2px"}},[s("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Home")]),s("ul",{staticClass:"navbar-nav flex-row ml-md-auto"},[t.user?[s("li",{staticClass:"nav-item mr-sm-2"},[s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return t.signout()}}},[t._v("Sign out "),s("i",{staticClass:"open-door"},[s("svg",{staticClass:"bi bi-door-open",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M1 15.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5zM11.5 2H11V1h.5A1.5 1.5 0 0 1 13 2.5V15h-1V2.5a.5.5 0 0 0-.5-.5z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M10.828.122A.5.5 0 0 1 11 .5V15h-1V1.077l-6 .857V15H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117z"}}),s("path",{attrs:{d:"M8 9c0 .552.224 1 .5 1s.5-.448.5-1-.224-1-.5-1-.5.448-.5 1z"}})])])])])]:[s("li",{staticClass:"nav-item mr-sm-2"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/signin"}},[t._v("Sign in")])],1),s("li",{staticClass:"nav-item mr-sm-2"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/signup"}},[t._v("Sign up")])],1)]],2)],1),s("router-view")],1)},n=[],o=s("5530"),r=s("2f62"),c={name:"App",computed:Object(o["a"])({},Object(r["c"])(["user"])),methods:Object(o["a"])({},Object(r["b"])(["signout"]))},l=c,u=(s("5c0b"),s("2877")),d=Object(u["a"])(l,i,n,!1,null,null,null),m=d.exports,p=(s("caad"),s("d3b7"),s("8c4f")),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signin-page card card-body bg-light container"},[s("h2",[t._v("Sign In")]),s("form",{staticClass:"justify-content-md-center",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[t.status.error&&t.status.error.message?s("div",{staticClass:"form-group"},[s("p",{staticClass:"text-danger"},[t._v(t._s(t.status.error.message?t.status.error.message:""))])]):t._e(),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-4 col-form-label text-right",attrs:{for:"email"}},[t._v("Email")]),s("div",{staticClass:"col-sm-9 col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.email},attrs:{type:"email",id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.email,expression:"submitted && !email"}],staticClass:"invalid-feedback"},[t._v("Email is required")])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-4 col-form-label text-right",attrs:{for:"password"}},[t._v("Password")]),s("div",{staticClass:"col-sm-9 col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.password},attrs:{type:"password",id:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.password,expression:"submitted && !password"}],staticClass:"invalid-feedback"},[t._v("Password is required")])])]),t._m(0)])])},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary"},[t._v("Sign in")])])}],g={name:"Signin",data:function(){return{email:"",password:"",submitted:!1}},computed:Object(o["a"])({},Object(r["c"])(["status"])),created:function(){var t=JSON.parse(localStorage.getItem("user"));t&&this.signout()},methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["signin","signout"])),{},{handleSubmit:function(t){t.preventDefault(),this.submitted=!0;var e=this.email,s=this.password;e&&s&&this.signin({email:e,password:s})}})},h=g,b=Object(u["a"])(h,f,v,!1,null,null,null),_=b.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signup-page card card-body bg-light container"},[s("h2",[t._v("Sign Up")]),s("form",{staticClass:"justify-content-md-center",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-4 col-form-label text-right",attrs:{for:"username"}},[t._v("Username *:")]),s("div",{staticClass:"col-sm-9 col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.username},attrs:{type:"text",id:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.username,expression:"submitted && !username"}],staticClass:"invalid-feedback"},[t._v("Username is required")])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-4 col-form-label text-right",attrs:{for:"email"}},[t._v("Email *:")]),s("div",{staticClass:"col-sm-9 col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.email},attrs:{type:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.email,expression:"submitted && !email"}],staticClass:"invalid-feedback"},[t._v("Email is required")])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-4 col-form-label text-right",attrs:{for:"password"}},[t._v("Password *:")]),s("div",{staticClass:"col-sm-9 col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.password},attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.password,expression:"submitted && !password"}],staticClass:"invalid-feedback"},[t._v("Password is required")])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-4 col-form-label text-right",attrs:{for:"repassword"}},[t._v("RePassword *:")]),s("div",{staticClass:"col-sm-9 col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.repassword||t.repassword!==t.password},attrs:{type:"password",id:"repassword"},domProps:{value:t.repassword},on:{input:function(e){e.target.composing||(t.repassword=e.target.value)}}}),t.submitted&&!t.repassword?s("div",{staticClass:"invalid-feedback"},[t._v("RePassword is required")]):t.repassword!==t.password?s("div",{staticClass:"invalid-feedback"},[t._v("RePassword is not equal password")]):t._e()])]),s("div",{staticClass:"form-group"},[s("router-link",{staticClass:"btn btn-link",attrs:{to:"/"}},[t._v("CANCEL")]),s("button",{staticClass:"btn btn-primary"},[t._v("Sign Up")])],1)])])},w=[],C={name:"Signup",data:function(){return{username:"",email:"",password:"",repassword:"",submitted:!1}},computed:Object(o["a"])({},Object(r["c"])(["status"])),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["signup"])),{},{handleSubmit:function(t){t.preventDefault(),this.submitted=!0;var e=this.username,s=this.email,a=this.password,i=this.repassword;e&&s&&a&&i&&this.signup({username:e,email:s,password:a,repassword:i})}})},T=C,S=Object(u["a"])(T,k,w,!1,null,null,null),y=S.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ticket-list-page card card-body bg-light"},[t.tickets.loading?s("div",{staticClass:"loading"},[s("loading",{attrs:{active:t.tickets.loading,"is-full-page":!0},on:{"update:active":function(e){return t.$set(t.tickets,"loading",e)}}})],1):t.tickets.loading?t._e():s("div",{staticClass:"table"},[s("vue-bootstrap4-table",{attrs:{rows:t.tickets.dataList,classes:t.classes,columns:t.columns,config:t.config,actions:t.actions},on:{"on-add-task":t.onAddTask},scopedSlots:t._u([{key:"date_of_submission",fn:function(e){return[t.isAdmin?[s("date-picker",{attrs:{type:"date",format:"DD/MM/YYYY",disabled:!t.isAdmin},on:{change:function(s){return t.editDateOfSubmission(s,e.row)}}},[s("template",{slot:"input"},[t._v(" "+t._s(t._f("moment")(e.cell_value,"DD/MM/YYYY"))+" ")]),s("template",{slot:"icon-calendar"},[s("i",{staticClass:"mx-icon-calendar"},[t.isAdmin?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M940.218182 107.054545h-209.454546V46.545455h-65.163636v60.50909H363.054545V46.545455H297.890909v60.50909H83.781818c-18.618182 0-32.581818 13.963636-32.581818 32.581819v805.236363c0 18.618182 13.963636 32.581818 32.581818 32.581818h861.090909c18.618182 0 32.581818-13.963636 32.581818-32.581818V139.636364c-4.654545-18.618182-18.618182-32.581818-37.236363-32.581819zM297.890909 172.218182V232.727273h65.163636V172.218182h307.2V232.727273h65.163637V172.218182h176.872727v204.8H116.363636V172.218182h181.527273zM116.363636 912.290909V442.181818h795.927273v470.109091H116.363636z"}})]):t._e()])])],2)]:[t._v(" "+t._s(t._f("moment")(e.cell_value,"DD/MM/YYYY"))+" ")]]}},{key:"name",fn:function(e){return[s("div",{staticClass:"text-left"},[t.isAdmin?s("i",{style:{color:1==e.row.isShow?"green":"grey",fontSize:"1.5em",margin:"0 10px"},on:{click:function(s){return t.onUpdateIsShow(s,e.row)}}},[s("svg",{staticClass:"bi bi-check2-circle",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M8 2.5A5.5 5.5 0 1 0 13.5 8a.5.5 0 0 1 1 0 6.5 6.5 0 1 1-3.25-5.63.5.5 0 1 1-.5.865A5.472 5.472 0 0 0 8 2.5z"}})])]):t._e(),t.isAdmin?[s("input",{staticClass:"form-control no-border",attrs:{disabled:!t.isAdmin,type:"text"},domProps:{value:e.cell_value},on:{blur:function(s){return t.onChangeTittle(s,e.row)}}})]:[t._v(" "+t._s(e.cell_value)+" ")],s("span",{staticClass:"ticket-detail",attrs:{role:"button"},on:{click:function(s){return t.onShowDetail(s,e.row)}}},[t._v("Detail >>>")])],2)]}},{key:"username",fn:function(e){return[t.isAdmin?[s("v-select",{attrs:{value:e.cell_value,loading:t.users.loading,options:t.users.dataList,label:"username"},on:{input:function(s){return t.onChangeUsername(s,e.row)}}})]:[t._v(" "+t._s(e.cell_value)+" ")]]}},{key:"status",fn:function(e){return[s("v-select",{class:t.getColorStatus(e.cell_value),attrs:{value:e.cell_value,options:t.statusList},on:{input:function(s){return t.onChangeStatus(s,e.row)}}})]}}])})],1),t.isModal?s("Modal",{staticClass:"my-modal",on:{close:function(e){t.isModal=!1}}},[s("template",{slot:"header"},[s("h3",[t.isAdmin?[s("input",{staticClass:"form-control no-border",attrs:{type:"text"},domProps:{value:t.aTicket.name},on:{blur:function(e){return t.onChangeTittle(e,t.aTicket)}}})]:[t._v(" "+t._s(t.aTicket.name)+" ")]],2)]),s("template",{slot:"body"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-md-2 col-form-label text-right",attrs:{for:"assignee"}},[t._v("Status:")]),s("div",{staticClass:"col-sm-12 col-md-4"},[s("v-select",{class:t.getColorStatus(t.aTicket.status),attrs:{value:t.aTicket.status,options:t.statusList},on:{input:function(e){return t.onChangeStatus(e,t.aTicket)}}})],1)]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-md-2 col-form-label text-right",attrs:{for:"assignee"}},[t._v("Assignee:")]),s("div",{staticClass:"col-sm-12 col-md-4"},[t.isAdmin?[s("v-select",{attrs:{value:t.aTicket.username,loading:t.users.loading,options:t.users.dataList,label:"username"},on:{input:function(e){return t.onChangeUsername(e,t.aTicket)}}})]:[t._v(" "+t._s(t.aTicket.username)+" ")]],2)]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-md-2 col-form-label text-right",attrs:{for:"date_of_submission"}},[t._v("Date of submission:")]),s("div",{staticClass:"col-sm-12 col-md-10 text-left"},[t.isAdmin?[s("date-picker",{attrs:{type:"date",format:"DD/MM/YYYY"},on:{change:function(e){return t.editDateOfSubmission(e,t.aTicket)}}},[s("template",{slot:"input"},[t._v(" "+t._s(t._f("moment")(t.aTicket.date_of_submission,"DD/MM/YYYY"))+" ")]),s("template",{slot:"icon-calendar"},[s("i",{staticClass:"mx-icon-calendar"},[t.isAdmin?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M940.218182 107.054545h-209.454546V46.545455h-65.163636v60.50909H363.054545V46.545455H297.890909v60.50909H83.781818c-18.618182 0-32.581818 13.963636-32.581818 32.581819v805.236363c0 18.618182 13.963636 32.581818 32.581818 32.581818h861.090909c18.618182 0 32.581818-13.963636 32.581818-32.581818V139.636364c-4.654545-18.618182-18.618182-32.581818-37.236363-32.581819zM297.890909 172.218182V232.727273h65.163636V172.218182h307.2V232.727273h65.163637V172.218182h176.872727v204.8H116.363636V172.218182h181.527273zM116.363636 912.290909V442.181818h795.927273v470.109091H116.363636z"}})]):t._e()])])],2)]:[t._v(" "+t._s(t._f("moment")(t.aTicket.date_of_submission,"DD/MM/YYYY"))+" ")]],2)]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-md-2 col-form-label text-right",attrs:{for:"description"}},[t._v("Description:")]),s("div",{staticClass:"col-sm-12 col-md-10 text-left"},[s("textarea",{staticClass:"form-control",attrs:{disabled:!t.isAdmin},domProps:{value:t.aTicket.description},on:{blur:function(e){return t.onChangeDescription(e,t.aTicket)}}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-6 col-md-2 col-form-label text-right",attrs:{for:"description"}},[t._v("Created by:")]),s("div",{staticClass:"col-sm-6 col-md-10 text-left"},[s("p",{staticClass:"col-form-label"},[t._v(t._s(t.aTicket.created_by))])])])])],2):t._e()],1)},O=[],j=(s("a4d3"),s("e01a"),s("c740"),s("a434"),s("b0c0"),s("12f9")),L=s("ec45"),D=s("4a7a"),P=s.n(D),M=s("9062"),A=s.n(M),I=(s("e40d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container card card-body bg-light"},[s("div",{staticClass:"modal-header"},[t._t("header",[t._v(" ... ")])],2),s("div",{staticClass:"modal-body"},[t._t("body",[t._v(" ... ")])],2),s("div",{staticClass:"modal-footer"},[t._t("footer",[t._v(" "),s("button",{staticClass:"modal-default-button btn btn-light",on:{click:function(e){return t.$emit("close")}}},[t._v("Close")])])],2)])])])}),U=[],N={name:"Modal",props:{classes:{type:Object,default:function(){return{}}}}},R=N,V=(s("3a7d"),Object(u["a"])(R,I,U,!1,null,"532cbc53",null)),Y=V.exports,E={ADMIN:"admin",NORMAL:"normal"};function q(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.token?{Authorization:"Bearer "+t.token}:{}}function F(){var t=JSON.parse(localStorage.getItem("user"));return!(!t||t.role!==E.ADMIN)}function B(t){return new Date(t).getTime()/1e3}var $={name:"TicketList",data:function(){return{isAdmin:!1,isModal:!1,aTicket:{},statusList:["waiting","working","issued","processing","done"],classes:{cell:{"w-40 ticket-name":function(t,e){return e&&"name"===e.name},"w-20":function(t,e){return"name"!==e.name}}},actions:[{btn_text:"+ Add task",event_name:"on-add-task",class:"btn btn-primary my-custom-class"}],columns:[{label:"Title",name:"name",sort:!0},{label:"Assignee",name:"username",sort:!0},{label:"Due date",name:"date_of_submission",sort:!0},{label:"Status",name:"status",sort:!0}],config:{card_mode:!1,pagination:!1,pagination_info:!1,show_refresh_button:!1,show_reset_button:!1,global_search:{placeholder:"Search..."}}}},components:{VueBootstrap4Table:j["a"],DatePicker:L["a"],vSelect:P.a,Modal:Y,Loading:A.a},created:function(){var t=F();this.isAdmin=t,this.getTicketList(),this.getUserList()},computed:Object(o["a"])({},Object(r["c"])(["tickets","users"])),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["getTicketList","updateTicket","updateTicketStatus","getUserList"])),{},{getColorStatus:function(t){return"v-selected-"+t},fetchData:function(t){var e=this.tickets.dataList.findIndex((function(e){return e.id===t.id}));this.tickets.dataList.splice(e,1,t)},onShowDetail:function(t,e){t.preventDefault(),this.isModal=!0,this.aTicket=Object.assign({},this.aTicket,e)},onChangeTittle:function(t,e){var s=e.id,a=e.name,i=e.description,n=e.assign_user_id,o=e.status,r=e.isShow,c=e.date_of_submission,l=t.target.value;a!==l&&(this.updateTicket({id:s,description:i,assign_user_id:n,status:o,isShow:r,date_of_submission:c,name:l}),e.name=l,this.fetchData(e))},onChangeDescription:function(t,e){var s=e.id,a=e.name,i=e.description,n=e.assign_user_id,o=e.status,r=e.isShow,c=e.date_of_submission,l=t.target.value;i!==l&&(this.updateTicket({id:s,name:a,assign_user_id:n,status:o,isShow:r,date_of_submission:c,description:l}),e.description=l,this.fetchData(e))},onChangeUsername:function(t,e){var s=e.id,a=e.name,i=e.description,n=e.assign_user_id,o=e.status,r=e.isShow,c=e.date_of_submission;console.log(t);var l=t.id;n!==l&&(this.updateTicket({id:s,name:a,description:i,status:o,isShow:r,date_of_submission:c,assign_user_id:l}),e.assign_user_id=t.id,e.username=t.username,e.email=t.email,e.role=t.role,this.fetchData(e))},onChangeStatus:function(t,e){var s=e.id,a=e.status;console.log(t),a!==t&&(this.updateTicketStatus({id:s,status:t}),e.status=t,this.fetchData(e))},onUpdateIsShow:function(t,e){t.preventDefault(),t.stopPropagation();var s=e.id,a=e.name,i=e.description,n=e.assign_user_id,o=e.status,r=e.isShow,c=e.date_of_submission,l=1===r?0:1;this.updateTicket({id:s,name:a,description:i,assign_user_id:n,status:o,date_of_submission:c,isShow:l}),e.isShow=l,this.fetchData(e)},editDateOfSubmission:function(t,e){var s=e,a=e.id,i=e.name,n=e.description,o=e.assign_user_id,r=e.status,c=e.isShow,l=e.date_of_submission,u=B(t);l!==u&&(this.updateTicket({id:a,name:i,description:n,assign_user_id:o,status:r,isShow:c,date_of_submission:u}),s.date_of_submission=u,this.fetchData(s))},onAddTask:function(){this.$router.push("/ticket/create"),console.log()}})},J=$,z=(s("42b0"),Object(u["a"])(J,x,O,!1,null,null,null)),H=z.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ticket-view-page"},[t._v(" This is ticket view page "+t._s(t.aTicket)+" ")])},Z=[],K={name:"TicketView",data:function(){return{}},components:{},created:function(){this.$route.params&&this.$route.params.id&&this.getTicketById(this.$route.params.id)},computed:Object(o["a"])({},Object(r["c"])({aTicket:function(t){return t.tickets.aTicket?t.tickets.aTicket:{}}})),methods:Object(o["a"])({},Object(r["b"])(["getTicketById"]))},Q=K,W=Object(u["a"])(Q,G,Z,!1,null,null,null),X=W.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ticket-form-create-page card card-body bg-light"},[s("h2",[t._v("Create a task")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label text-right",attrs:{for:"name"}},[t._v("Title *:")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.name},attrs:{type:"text",id:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.name,expression:"submitted && !name"}],staticClass:"invalid-feedback"},[t._v("Title is required")])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label text-right",attrs:{for:"description"}},[t._v("Description *:")]),s("div",{staticClass:"col-sm-10"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.description},attrs:{id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.description,expression:"submitted && !description"}],staticClass:"invalid-feedback"},[t._v("Description is required")])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label text-right",attrs:{for:"date_of_submission"}},[t._v("Date of submission")]),s("div",{staticClass:"col-sm-10 text-left"},[s("date-picker",{attrs:{type:"date",format:"DD/MM/YYYY",placeholder:"Select date",id:"date_of_submission"},model:{value:t.date_of_submission,callback:function(e){t.date_of_submission=e},expression:"date_of_submission"}})],1)]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label text-right",attrs:{for:"assignee"}},[t._v("Assignee")]),s("div",{staticClass:"col-sm-4"},[s("v-select",{attrs:{loading:t.users.loading,options:t.users.dataList,id:"assignee",label:"email"},model:{value:t.assignee,callback:function(e){t.assignee=e},expression:"assignee"}})],1)]),s("div",{staticClass:"form-group"},[s("router-link",{staticClass:"btn btn-link",attrs:{to:"/"}},[t._v("CANCEL")]),s("button",{staticClass:"btn btn-primary"},[t._v("CREATE")])],1)])])},et=[],st={name:"TicketForm",data:function(){return{name:"",description:"",assignee:{},date_of_submission:"",submitted:!1}},components:{vSelect:P.a,DatePicker:L["a"]},computed:Object(o["a"])({},Object(r["c"])(["users"])),created:function(){this.getUserList()},methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["createTicket","getUserList"])),{},{handleSubmit:function(t){t.preventDefault(),this.submitted=!0;var e=this.name,s=this.description,a=this.assignee,i=this.date_of_submission;e&&s&&this.createTicket({name:e,description:s,date_of_submission:B(i),assign_user_id:a.id})}})},at=st,it=Object(u["a"])(at,tt,et,!1,null,null,null),nt=it.exports,ot=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-404"},[s("h1",[t._v("This is an 404 page")])])}],ct={},lt=Object(u["a"])(ct,ot,rt,!1,null,null,null),ut=lt.exports;a["a"].use(p["a"]);var dt=[{path:"/",name:"TicketList",component:H},{path:"/ticket/create",name:"TicketFormCreate",component:nt},{path:"/ticket/:id",name:"TicketView",component:X},{path:"/about",name:"About",component:function(){return s.e("about").then(s.bind(null,"f820"))}},{path:"/signin",name:"Signin",component:_},{path:"/signup",name:"Signup",component:y},{path:"*",name:"PageNotFound",component:ut}],mt=new p["a"]({mode:"history",base:"/",routes:dt});mt.beforeEach((function(t,e,s){var a=["/signin","/signup"],i=!a.includes(t.path),n=localStorage.getItem("user");if(i&&!n)return s("/signin");s()}));var pt=mt,ft=s("48ac"),vt=s.n(ft),gt=s("2b27"),ht=s.n(gt),bt={API_URL:"http://localhost:5000/api/v1"};function _t(t){return t.text().then((function(e){var s=e&&JSON.parse(e);if(!t.ok){var a={status:401,statusText:"UNAUTHORIZED",message:s&&s.msg};return Promise.reject(a)}return s}))}function kt(t,e){var s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})};return fetch(bt.API_URL+"/signin",s).then(_t)}function wt(){var t={method:"GET",headers:q()};return fetch(bt.API_URL+"/signout",t).then(_t)}function Ct(t){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(bt.API_URL+"/signup",e).then(_t)}var Tt={signin:kt,signout:wt,signup:Ct};function St(t){return t.text().then((function(e){var s=e&&JSON.parse(e);if(!t.ok){var a=s&&s.message||t.statusText;return Promise.reject(a)}return s}))}function yt(){var t={method:"GET",headers:q()};return fetch(bt.API_URL+"/ticket/list",t).then(St)}function xt(t){var e={method:"GET",headers:q()};return fetch(bt.API_URL+"/ticket/view/".concat(t),e).then(St)}function Ot(t){var e={method:"POST",headers:Object(o["a"])(Object(o["a"])({},q()),{},{"Content-Type":"application/json"}),body:JSON.stringify(t)};return fetch(bt.API_URL+"/ticket/add",e).then(St)}function jt(t){var e={method:"PUT",headers:Object(o["a"])(Object(o["a"])({},q()),{},{"Content-Type":"application/json"}),body:JSON.stringify(t)};return fetch(bt.API_URL+"/ticket/update/".concat(t.id),e).then(St)}function Lt(t){var e={method:"PUT",headers:Object(o["a"])(Object(o["a"])({},q()),{},{"Content-Type":"application/json"}),body:JSON.stringify(t)};return fetch(bt.API_URL+"/ticket/update/".concat(t.id,"/status"),e).then(St)}var Dt={getTicketList:yt,getTicketById:xt,createTicket:Ot,updateTicket:jt,updateTicketStatus:Lt};function Pt(t){return t.text().then((function(e){var s=e&&JSON.parse(e);if(!t.ok){var a=s&&s.message||t.statusText;return Promise.reject(a)}return s}))}function Mt(){var t={method:"GET",headers:q()};return fetch(bt.API_URL+"/user/list",t).then(Pt)}var At={getUserList:Mt};a["a"].use(r["a"]);var It=JSON.parse(localStorage.getItem("user")),Ut=new r["a"].Store({state:{status:{error:{}},user:It?{status:{signedIn:!0},user:It}:{status:{},user:null},users:{dataList:[]},tickets:{dataList:[],aTicket:{data:{}},add:{}}},getters:{},mutations:{signinRequest:function(t,e){t.status={signingIn:!0},t.user=e},signinSuccess:function(t,e){t.status={signedIn:!0},t.user=e},signinFailure:function(t,e){t.status={error:e,signedIn:!1},t.user=null},signout:function(t){t.status={},t.user=null},signupRequest:function(t){t.status={signingUp:!0}},signupSuccess:function(t){t.status={signedUp:!0}},signupFailure:function(t,e){t.status={},t.errorResponse=e},getUserListRequest:function(t){t.users={error:!1,loading:!0}},getUserListSuccess:function(t,e){t.users.loading=!1,t.users.dataList=e.data},getUserListFailure:function(t,e){t.users={error:!0,errorMessage:e,loading:!1}},getTicketListRequest:function(t){t.tickets={error:!1,loading:!0}},getTicketListSuccess:function(t,e){t.tickets.loading=!1,t.tickets.dataList=e.data},getTicketListFailure:function(t,e){t.tickets={error:!0,errorMessage:e,loading:!1}},getTicketByIdRequest:function(t){t.tickets.aTicket={error:!1,loading:!0}},getTicketByIdSuccess:function(t,e){t.tickets.aTicket={loading:!1,data:e}},getTicketByIdFailure:function(t,e){t.tickets.aTicket={error:!0,errorMessage:e,loading:!1}},createTicketRequest:function(t){t.tickets.add={error:!1,loading:!0}},createTicketSuccess:function(t,e){console.log(e),t.tickets.add={loading:!1,message:e}},createTicketFailure:function(t,e){t.tickets.add={error:!0,errorMessage:e,loading:!1}},updateTicketRequest:function(t){t.tickets.update={error:!1,loading:!0}},updateTicketSuccess:function(t,e){console.log(e),t.tickets.update={loading:!1,message:e}},updateTicketFailure:function(t,e){t.tickets.update={error:!0,errorMessage:e,loading:!1}},updateTicketStatusRequest:function(t){t.tickets.updateStatus={error:!1,loading:!0}},updateTicketStatusSuccess:function(t,e){console.log(e),t.tickets.updateStatus={loading:!1,message:e}},updateTicketStatusFailure:function(t,e){t.tickets.updateStatus={error:!0,errorMessage:e,loading:!1}}},actions:{signin:function(t,e){var s=t.commit,a=e.email,i=e.password;s("signinRequest",{email:a}),Tt.signin(a,i).then((function(t){if(s("signinSuccess",t),t.token){localStorage.setItem("user",JSON.stringify(t));var e=vt.a.decode(t.token);ht.a.set("token-expire",1,new Date(1e3*e.exp))}pt.push("/")}),(function(t){s("signinFailure",t)}))},signout:function(t){var e=t.commit;localStorage.removeItem("user"),ht.a.remove("token-expire"),e("signout"),pt.push("/signin"),Tt.signout()},signup:function(t,e){var s=t.commit;s("signupRequest",e),Tt.signup(e).then((function(t){s("signupSuccess",t),pt.push("/signin")}),(function(t){s("signupFailure",t)}))},getUserList:function(t){var e=t.commit;e("getUserListRequest"),At.getUserList().then((function(t){e("getUserListSuccess",t)}),(function(t){e("getUserListFailure",t)}))},getTicketList:function(t){var e=t.commit;e("getTicketListRequest"),Dt.getTicketList().then((function(t){e("getTicketListSuccess",t)}),(function(t){e("getTicketListFailure",t)}))},getTicketById:function(t,e){var s=t.commit;s("getTicketByIdRequest"),Dt.getTicketById(e).then((function(t){s("getTicketByIdSuccess",t)}),(function(t){s("getTicketByIdFailure",t)}))},createTicket:function(t,e){var s=t.commit;s("createTicketRequest"),Dt.createTicket(e).then((function(t){s("createTicketSuccess",t),pt.push("/")}),(function(t){s("createTicketFailure",t)}))},updateTicket:function(t,e){var s=t.commit;s("updateTicketRequest"),Dt.updateTicket(e).then((function(t){s("updateTicketSuccess",t)}),(function(t){console.log(t),s("updateTicketFailure",t)}))},updateTicketStatus:function(t,e){var s=t.commit;s("updateTicketStatusRequest"),Dt.updateTicketStatus(e).then((function(t){s("updateTicketStatusSuccess",t)}),(function(t){console.log(t),s("updateTicketStatusFailure",t)}))}},modules:{}}),Nt=s("2ead"),Rt=s.n(Nt);s("411c");a["a"].config.productionTip=!1,a["a"].use(Rt.a),new a["a"]({router:pt,store:Ut,render:function(t){return t(m)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),i=s.n(a);i.a},"9c0c":function(t,e,s){},e56c:function(t,e,s){},feca:function(t,e,s){}});
//# sourceMappingURL=app.15d906dd.js.map